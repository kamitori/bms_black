<div ng-controller="MailController">
    <div class="bg-light lter b-b wrapper-md">
        <h1 class="m-n font-thin h3">{{ title }}</h1>
        <div>
            <a ng-click="syncMailList()" class="btn btn-success pull-right backend-action-bt">
                <span><i class="fa fa-refresh"></i> Sync mail list</span>
            </a>
        </div>
    </div>
    <div class="wrapper-md">
        <div class="panel panel-info">
            <div class="panel-heading">
            </div>
            <div class="panel-body">
                <div class="form-group  col-md-12">
                        <label class="col-sm-2 text-right control-label" style="">Campaigns List</label>
                        <div class="col-sm-8">
                            <select class="form-control" data-ng-model="campaignSelected" ng-change="loadCampaign(campaignSelected)" id="select_campaign">
                                <option value="0"></option>
                                <option ng-repeat="item in campaigns" data-campaign="{{item.data}}" value="{{item.id}}">{{item.name}}</option>
                            </select>
                        </div>
                        <div class="col-sm-2">
                            <button type="button" class="btn btn-info" ng-click="reset_form()">New campaign</button>
                        </div>
                </div>
                <input type="hidden" name="id_campaign" id="id_campaign">
                <div class="form-group  col-md-6">
                        <label class="col-sm-4 text-right control-label" style="">Campaign name <span style="color:red;">(*)</span></label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" required="required" name="campaign_name" id="campaign_name">
                        </div>
                </div>
                <div class="form-group  col-md-6">
                        <label class="col-sm-4 text-right control-label" style="">Email subject <span style="color:red;">(*)</span></label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" required="required" name="subject" id="subject">
                        </div>
                </div>
                <div class="form-group  col-md-6">
                        <label class="col-sm-4 text-right control-label" style="">From name <span style="color:red;">(*)</span></label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" required="required" name="from_name" id="from_name">
                        </div>
                </div>
                <div class="form-group  col-md-6">
                        <label class="col-sm-4 text-right control-label" style="">From email <span style="color:red;">(*)</span></label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" required="required" name="from_mail" id="from_mail">
                        </div>
                </div>
                <div class="form-group col-md-12">
                    <div id="ckeditor-container">
                            <textarea class="form-control" id="page-content" name="content" ckeditor="options" ng-model="content" ready="onReady()"></textarea>
                    </div>
                </div>
                
                <div class="form-group col-md-12 text-center">
                    <button type="button" class="btn btn-primary" ng-click="sendCampaign()">Send mail</button>
                </div>
            </div>
        </div>
    </div>
</div>
